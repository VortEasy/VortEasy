import{a as m}from"./chunk-R57NE4UD.js";import{$a as d,K as o,La as c,ea as l,ma as s,ta as u}from"./chunk-HZLWTCA3.js";var f=class r{constructor(e){this.el=e}onChange=()=>{};onTouched=()=>{};onInput(){this.formatValue(this.el.nativeElement.value)}onBlur(){(this.el.nativeElement.value==="R$ "||!this.el.nativeElement.value)&&(this.el.nativeElement.value=this.formatOnWrite("0")),this.onTouched()}formatValue(e){let t=e.replace(/\D/g,"");if(!t){this.updateValue(null);return}t=t.padStart(3,"0");let n=t.slice(0,-2),i=t.slice(-2),a=parseInt(n).toLocaleString("pt-BR"),p=a==="NaN"?`R$ 0,${i}`:`R$ ${a},${i}`;this.updateValue(p)}writeValue(e){let t=this.formatOnWrite(e);this.el.nativeElement.value=t}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.el.nativeElement.disabled=e}updateValue(e){this.el.nativeElement.value=e||"",this.onChange(e)}formatOnWrite(e){if(e==null||e==="")return"";let t=String(e).replace(/\D/g,"");if(!t)return"";t=t.padStart(3,"0");let n=t.slice(0,-2),i=t.slice(-2);return`R$ ${parseInt(n).toLocaleString("pt-BR")},${i}`}static \u0275fac=function(t){return new(t||r)(s(l))};static \u0275dir=u({type:r,selectors:[["","appCurrencyMask",""]],hostBindings:function(t,n){t&1&&c("input",function(){return n.onInput()})("blur",function(){return n.onBlur()})},features:[d([{provide:m,useExisting:o(()=>r),multi:!0}])]})};export{f as a};
